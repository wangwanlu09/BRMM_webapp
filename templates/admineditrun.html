<!DOCTYPE html>
<html lang="en">
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
{% extends "adminnav.html" %}
{% block content %}
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded pt-5 mt-5"> 
        <h2 class="fw-bold fs-3" id="heading2">Edit Runs</h2>

        <form action="/admin/editruns" method="POST">
            <div class="input-group">
                <select name="fdriver" id="fdriver" class="form-select" aria-label="Default select example">
                    <option value="">&lt;Select Driver&gt;</option>
                    {% for full_driver in full_drivers %}
                        <option value="{{ full_driver }}">{{ full_driver }}</option>
                    {% endfor %}
                </select>
                <select name="fcourse" id="fcourse" class="form-select" aria-label="Default select example">
                    <option value="">&lt;Select Course&gt;</option>
                    {% for full_course in full_courses %}
                        <option value="{{ full_course }}">{{ full_course }}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-dark">Show Runs</button>
            </div>
        </form>


    <br>
    {% if driver_runlist %}
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <td>Driver ID</td>
                <td>First Name</td>
                <td>Surname</td>
                <td>Course Name</td>
                <td>Run Number</td>
                <td>Seconds</td>
                <td>Cones</td>
                <td>WD</td>
            </tr>
        </thead>
        <tbody>
            {% for driverrun in driver_runlist %}
                <tr>
                    <td>{{ driverrun[0] }}</td>
                    <td>{{ driverrun[1] }}</td>
                    <td>{{ driverrun[2] }}</td>
                    <td>{{ driverrun[3] }}</td>
                    <td>{{ driverrun[4] }}</td>
                    <td>                   
                        <span id="seconds-{{ driverrun[0] }}-{{ driverrun[4] }}">{{ driverrun[5] }}</span>
                        <a href="/editrunsform/{{ driverrun[0] }}/{{ driverrun[3] }}/{{ driverrun[4] }}" target="_blank"><i class="bi bi-pencil-fill"></i></a>
                    </td>
                    <td>
                        <span id="cones-{{ driverrun[0] }}-{{ driverrun[4] }}">{{ driverrun[6] }}</span>
                        <a href="/editrunsform/{{ driverrun[0] }}/{{ driverrun[3] }}/{{ driverrun[4] }}" target="_blank"><i class="bi bi-pencil-fill"></i></a>
                    </td>
                    <td>
                        <span id="wd-{{ driverrun[0] }}-{{ driverrun[4] }}">{{ 'WD' if driverrun[7] != 0 else driverrun[7] }}</span>
                        <a href="/editrunsform/{{ driverrun[0] }}/{{ driverrun[3] }}/{{ driverrun[4] }}" target="_blank"><i class="bi bi-pencil-fill"></i></a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>
{% endblock %}







